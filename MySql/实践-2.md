## 幻读

1. 在可重复读隔离级别下，普通的查询是快照读，是不会看到别的事物插入的数据的。
2. 幻读专指“新插入的行”。

### 间隙锁（Gap Lock）

1. 间隙锁，锁的就是两个值之间的空隙。

2. 间隙锁只与 **往这个间隙中插入一个记录** 这个操作存在冲突。间隙锁之间不存在冲突。

3. 间隙锁的引入，可能会导致同样的语句锁住更大的范围，这其实是影响了并发度的。

   ```mysql
   begin;
   #会导致这个索引树部分范围（9在的那个范围）加间隙锁
   select * from t2 where id = 9 for update
   commit;
   ```

