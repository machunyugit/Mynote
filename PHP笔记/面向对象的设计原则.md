## 积硅步，致千里

### 面向对象设计的五大原则

#### 单一职责原则

1. 在敏捷软件开发中把 ” 职责 “ 定义为 “ 变化的原因 ” ，对于一个类而言，应该只有一个引起它变化的原因。
2. 单一职责有两个含义：
   * 避免相同的职责分散到不同的类中
   * 避免一个类承担太多的职责
3. 例子： 比如在MVC框架中，对于表单插入数据库字段过滤与安全检查应该是放在controller层处理还是model层处理。

```php
<?php
//定义一个适配器接口
interface Db_Adapter
{
	/**
	 * 数据库连接
	 * @param  [type] $config [数据库配置文件]
	 * @return [type]         [description]
	 */
	public function connect($config);
	/**
	 * 执行数据库查询
	 * @param  [type] $query  [数据库查询sql字符串]
	 * @param  [type] $handle [连接对象]
	 * @return [type]         [description]
	 */
	public function query($query,$handle);
}


//定义MySQL数据库的操作
class Db_Adapter_mysql implements Db_Adapter
{
	//定义MySQL数据库连接信息
	public function connect($config)
	{
	}
	//定义查询信息
	public function query($query,$handle)
	{
	}
}

//定义SQLite数据库的操作
class Db_Adapter_sqlite implements Db_Adapter
{
	//定义MySQL数据库连接信息
	public function connect($config)
	{
	}
	//定义查询信息
	public function query($query,$handle)
	{
	}
}

//定义个工厂类
class sqlFactory
{
	//在这里统一的将$type转换成小写的或者大写的
	public static function factory($type)
	{
		if (include_once 'Drivers/'.$type.'.php') {
			$classname = 'Db_Adapter_'.$type;
			return new new $classname;
		}

		throw new exception('Drivers not found');
	}
}

//调用
$db = sqlFactory::factory('mysql');
$db = sqlFactory::factory('sqlite');
```

#### 接口隔离原则

1. 接口隔离原则（Interface Segregation Principle，ISP） ： 表明客户端不应该被强迫实现一些他们不会使用的接口，应该用多个接口实现，每个接口对应一个字模块。简单地说，就是使用多个专门的接口比使用单个接口要好得多。
2. ISP主要观点
   * 一个类对另外一个类的依赖性应当是建立在最小的接口上的。
   * 客户端程序不应该依赖它不需要的接口方法（功能）。

#### 开放--封闭原则

1. 一个模块在扩展性方面应该是开放的而在更改性方面应该是封闭的。
2. 开放-封闭能够提高系统的可扩展性和可维护性，但是这也是相对的。必须有稳定不变得东西才能减少维护上的困难。
3. 对抽象编程而不对具体编程。

#### 替换原则（主要是针对继承的设计原则）

1. 父类的方法都要在子类中实现或者重写，并且派生类之实现其抽象类中声明的方法，而不应当给出多余的方法定义或者实现。

#### 依赖倒置原则

1. 上层模块不应该依赖于下层模块，它们应该共同依赖于一个抽象（父类不能依赖子类，它们都要依赖抽象类）