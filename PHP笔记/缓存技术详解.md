### 日常缓存技术记录

![20180602151951](D:\我的文档\GitHub\Mynote\PHP笔记\image\20180602151951.png)

#### 浏览器缓存

- `Expires`: 过期时间。这种缓存是最快的，因为没有任何HTTP请求的发生。当用户需要这个资源的时候，浏览器就直接从缓存（在硬盘中）读取，不再需要询问服务器端的意见。

- `Last-Modified`: 最后修改时间。通过这种缓存方式，无论资源是否发生了更新，仍然至少会发生一来一去HTTPS头的传输和接收，所以速度比不上Expires。

- `ETag`: 实体标签。和Last-Modified类似，也是WEB服务器和客户端用于确认缓存组件的有效性的一种机制。当资源被修改，其ETag也发生改变。ETag相对Last- Modified更精确

- `Cache-Control`: 缓存控制。这个字段用于指定所有缓存机制在整个请求/响应链中必须服从的指令。这些指令指定用于阻止缓存对请求或响应造成不利干扰的行为。比如：Cache-Control: max-age=3600, public

  ```php
    header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT");
    header("Cache-Control: max-age=" . $cachetime);
    header("Cache-Control: max-age=" . $cachetime);
    header( "HTTP/1.1 304 Not Modified" );
  ```

  