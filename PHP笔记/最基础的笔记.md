### php基础笔记

1. 基础的了解

   * B/S、c/s结构软件类型:s-sever  c-client   b-browser
   * 安装php的环境测试：<?php  phpinfo();
   * 代码的注释要写在代码的上面或是右边。
   * Php的四对标记  `<?php  ?>   <?  ?>   <%  %>   <script language=”php”>  <script>` 
   * Php的程序注释 //…. …. 单行注释 /*… …*/ 多行注释 /**… …*/文档注释 #...脚本注释
   * php语言标记 :功能执行语句，后面必须加分号。
   * Php需要在每个指令后用分号结束；但在php语言结束标记` ?> `  前的分号不是必须加的。
   * 结构定义语句，后面一定不要加分号

2. Php变量在计算机内存中的存储方式：

   PHP是一种非常弱的类型语言。在大多数编程语言中，变量只能保持一种类型的数据，而且这个类型必须在使用变量前声明，例如C语言中。而在PHP中，变量的类型通常不是由程序员设定的，确切地说，是根据该变量使用的上下文在运行时（即变量的值）决定的。PHP不要求在使用变量之前声明变量，当第一次给一个变量赋值时，你才创建了这个变量。

3. Php的介绍: PHP是一种在服务器端执行的嵌入html文档的脚本语言。

   ​         变量名是以$开始

   ​         变量的名称声明时一定要有意义

4. 不合法的变量名：不能以数字开头，变量名中不能有运算符（加减乘除等的），__关键字是可以作为php的变量名称使用__ 的（其他语言是不允许的)

5. 变量名称区分大小写（驼峰式命名方式：当变量名有多个单词组成时，第一个单词小写，以后的每个单词首字母大写）

6. 可变变量（输出变量的几种方式：echo  var_dump()

​         一个可变变量获取了一个普通变量的值作为这个可变变量的变量的名。

​                   必须是两个或者多个$连在一起中间不要有断开。利用unset（）这个函数重置变量与内存的关联。

​                            $hello = “world”；                     //定义一个变量

​                            $$hello = “你好”；                    //可变变量

​                            Echo $world；                            //输出你好

7. 变量的引用

​                   1只有变量才有地址，只用变量才能有引用。

​                            变量的地址用：`&$phpifno`可以提取出变量`$phpinfo`存在内存里的地址

​                            变量的引用：是将一个变量的地址赋给另一个变量。`$c = &$phpinfo;`

​                   2 一个变量发生变化，另一个变量也变化。

8. 在使用unset（）函数时， 如果有引用关系，只是解除了这种引用关系。只是删除一个名字，另一个还在。

9.  如果两个变量是引用关系，一个变，另一个也变；但如果给其中一个引用，不是普通的值，而是一个新的引用，则改变引用。

   ​

   ------

   ​

#### php数据类型

1. 四种标量类型：

   boolean（布尔型） integer（整型） float（浮点型，也称作 double)       string（字符串）

   三种复合类型：

   array（数组）	object（对象）

   最后是两种特殊类型：

   resource（资源）NULL（无类型）

2. 变量的类型（弱类型语言）

   Boolean：假值（false）// Boolean  false

   //int  0

   // float   0.0   0.00

    //string   “ ”   “0”

   //array 空的数组    //特殊类型null（包括尚未设定的变量)

3.  Integer（整型）：需要了解计算机的八进制，十六进制。以及他们之间的换算。以及计算机存储时的位数等相关情况。

   * 用八进制的符号：数字前必须加上“0”.用十六进制符号数字前必须加上“0x”。
   * 八进制是由0~7的数字序列组成。十六进制数是由0~9的数字或A~F的字母组成的序列。     
   * Dec：十进制
   * Hex：十六进制
   * Oct：八进制
   * Bin：二进制
   * decbin()：十进制转二进制  ( 参数直接写值 )
   * dechex() ：十进制转16进制
   * hexdec()：16进制转10进制
   * octdec()：八进制转10进制
   * decoct()：10进制转8进制


4. 字符串：是一系列的字符。（在双引号中可以用空格或者是大括号将变量解析出来）。

   * 一个字符或者多个字符都是字符串（在php中）
   * 声明一个字符串必须使用单引号 或 双引号引起来。
   * 字符串是没用长度限制。
   * 在单引号中可以使用双引号，反过来 ，亦可。
   * 单引号中不能再使用单引号，在双引号不能再使用双引号。
   * 可以使用转义字符 \

   __单引号 与 双引号 中的区别__

   * 在双引号中可以解析变量，而在单引号中不能解析变量。
   * 双引号中可以使用转义字符 \n 换行 \r 回车  \t  tab键 \$ 产生美元符号 在单引号中不能使用转义字符
   * 单引号中：转义单引号即这个： `$str = 'this is a \'demo\'' `还可以转义转义符本身即 \\ 这样，就会使其本身失去转义的功效.
   * 单引号比双引号效率比较高。推荐用单引号。

   __定界符声明字符串（是为了解决在大量的字符串中双引号，单引号都存在时的情况)__

   * 使用 `<<< ` 小于号,加上自己自定义的名字。
   * 在开始的定界符（自定义的字符串中 `<<<hello`）一定要左边挨着`<<<`，写完直接回车，在结尾处一定要顶格写自定义的字符串 (hello;回车)
   * 使用’’在开始的定界符号中，将支持双引号的功能，改成了单引号的功能。`$str =<<<’hello’`

   ```php
   <?php   
         $str =<<<hello
         this is a demo
   hello; 
   ```

5.  PHP的数据类型之间的转换和检测:

   ​    Is_callable();            判断是否是有效函数名

   ​    Var_dump();               输出类型与值

   ​    getType();                 输出类型  getType($int);

   __强制转换__ 

   * setType(变量，变成的类型); settype($int,"int");   是将原变量转换了
   * 在变量使用时, 前面加上类型符号。`$d = (int)$int;  `是在赋值时给新变量一个新类型,原变量类型不变。

     ​	intval（） floatval（） strval（）用函数转换。

   __自动转换__ （这并没有改变这些运算数本身的类型，改变的仅是这些运算数如何被求值）

   * 有布尔型值参与运算时，true将转化为整型1，false将转化成0后再参与运算。
   * 有NULL值参与运算时，NULL值转化为整型0在进行运算。
   * 有integer型和float型参与运算时，先把integer型变量转化成float型在进行运算。
     * 有字符串和数字型（integer，float）数据参与运算时，字符串先转换为数字，再参与运算。转化后	的数字是从字符串开始的数值型字符串，如果在字符串开始的数值型字符串不带小数点则转化为integer类型数字，如果带小数点，则转为float类型数字， 

6. 常量的声明：（存在内存：初始化静态段）

   * 常量一旦声明，他的值就不会被改变。也不会被释放的

   * 常量是使用函数define（）声明的  define(“常量名”,常量值)；

     * ```php
       define("CONSTANT", "Hello world.");
       echo CONSTANT; // 输出 "Hello world."
       echo Constant; // 输出 "Constant" 并导致 Notice 
       ```

   * 如果常量没有声明，则常量名在使用时，会自动转为字符串但代码的效率会比较低。

   * 常量名称，不要加$符号。

   * 常量名称，默认是区分大小写的。习惯上全大写。
     * 可以使用define（）第三个参数来决定是否让这个常量名称区分大小写True  false  默认是false。这个就是常量名不区分大小写的例子define（”root”,10,true）

   * 常量的值只支持标量数据类型。

   * 常量不能使用unset() 释放给定的变量           void **unset** ( mixed `$var` [, mixed) `$...` ] )

   * 常量可以使用defined() 判断一个常量是否存在  bool **defined**  ( string $name )  `defined('ROOT')`

7. 字符串运算符：也称连接运算符。可以将两个字符串连接起来，变成合并的新字符串;也可以将一个字符串和任何标量数据类型相连接，合并成新字符串。

   * `Echo '我的名字是:' .$name. '我的年龄是:'. $age.'<br>';`

   * 第一个是连接运算符（'.'），它返回其左右参数连接后的字符串。

   * 第二个是连接赋值运算符（”.=”）,它将右边参数附加到左边的参数后。

     ```php
     $a = 5;
     Echo '这个变量的值:'.$a.'<br>';    这三种方式效果一样。
     Echo "这个变量的值:{$a}<br>";
     Echo '这个变量的值:',$a,'<br>';
     ```

8. 算术运算符号

   * =    将一个值或者一个表达式的结果赋给变量。
   * +=   将变量与所赋的值相加后的结果再赋给变量
   * .=   将变量与所赋的值相连后的结果再赋给该变量` $x.=”3”等价于$x=$x.”3”;`
   * %=  将变量与所赋的值求模后的结果再赋给该变量
   * 在其他语言中（不是php中），+号除了有加法的作用外，还有连接字符串的功能。
   * %这个符号是取余数的。余数的正负是由分子决定的。
     * 让一个数不超过一个值。（用5求模，余数不会超过5）
     * 求那个数字被整除。
     * Php中的%在小数求模时，是将小数转化为整数（用的是割舍如 13.89直接是  13 ）再求模的。

9. ++运算符(一元运算符)

   ```php
       $a =  1
   	b=a++：先将a的值赋给b,然后a的值才加1。输出a为2，$b为1.
   	b=++a :先自加再赋值给$b.   输出的时候a  b 变量都为2
   	a = 5;  b=a++  +  ++a;
   	12= 5    +    7
   ```

   __Boolean型真值的，echo的输出时为1，假值的，echo的输出时为空。Boolean型不参与自增运算。__ 

​        字符串的 ++ 中，按升序，例如 `$a = 'a';  $a++;  var_bump($a); //输出 b`

10. 比较运算符号：
  * 比较后的结果是一个boolean值，用在if和while等语句中。
  * != 不等于。   == 是判断内容相等的，不判断类型是否相等。
  * === 是判断内容与类型是否相等。 !== 两边的__值与类型__ 都相同时返回false

11. 逻辑运算符：

    * And和$$ 逻辑与  当两边操作数都为true时，返回true

    *  Or  和|| 逻辑或  当两边操作数都为false时，返回false

    *  Not 和！ 逻辑非  当操作为true时返回false

    *  Xor      逻辑异或 当两边只有一个为true时，返回true。

      ```php
      //两端都是boolean值ture或者false。
      $year = 2004;
      if ((year%4 == 0 && year % 100 != 0) || $year%400 == 0) { // 先计算括号里的

        echo "这是个{$year}是闰年";
      }else{
        echo "是平年"; 
      } 
      ```

    * 逻辑与（&&）和逻辑或（||）：

      * 特性：短路（类似于下边的，如果第一个条件不能成立了，程序就会提前结束，不会再往下执行了。这样称之为短路。）

           ```php
           $a = 2;
           a > 5 && a<100;
           ```

12. 位运算符：（整型与浮点型）

    1. 位运算符&（按位与）：只有参与运算的两位都为1时，运算结果才为1，否则为0。
    2. 与逻辑运算符&&的区别是，前者没有短路的现象。
    3. 位运算符|（按位或）：只有参与运算的两位都为0时，运算结果才为0，否则为1。
    4. 与逻辑运算符||的区别是，前者没有短路现象。

13. 特殊的运算符：

     三元运算符  运算元？运算元：运算元

     一 ? 二 : 三 ; 

      三元运算符表达的意思是如果“一”条件如果成立，则执行“二”，否则执行“三”

14. 错误控制运算符：

     @  当将其放置在一个php表达式前，该表达式可能产生的任何警告信息都将被忽略掉。而且它只对表达式有作用。

    @$num = 100/0  //可以通过@忽略除数为0的错误

    反引号（``）php将尝试将反引号中的内容作为操作系统命令来执行，并将其输出信息返回。但其所执行的命令是根据操作系统决定的，不利于程序的跨平台和系统安全。所以开发中一般不用。
------





#### Php流程控制概述

1. 流程控制概述：

   *  一共三种结构：顺序结构，分支结构，循环结构。

   __分支结构__ 

     	单一条件分支结构(if)      双向条件分支结构（else）

   ​	多向条件分支结构（else if 子句，switch语句）

   ​	巢状条件分支结构

   * 单一条件分支结构

     ```php
     If（bool型的判断条件）{
      语句组
     }
     ```

   * 双向条件分支结构

     ```php
     If（bool型的判断条件）{
     	语句组
     } else{
     	语句组
     }
     ```

   * 多向条件分支结构：

     （1）elseif格式

     ```php
     If（条件表达式1）{
     	 语句1
     }else if（条件表达式2）{
     	语句2
     }……….else if（条件表达式n）{
     	语句3
     }Else{
     	语句n+1
     }
     ```

   * switch 多路分支结构

     * __区别__ 

       `if` 和`elseif` 语句使用布尔表达式或布尔值作为分支条件来进行分支控制，而switch语句则用于测试一个表达式的值，并根据测试结果执行相应的分支程序，从而实现分支控制。

     * 格式

       Switch（）括号中，必须是一个变量。
       在switch（）{}中的大括号中放的是多个cass语句，cass 空格，后面放的是值，值得后面使用一个冒号：

     ```php
     Switch（变量）{  			//使用switch关键字，对后面小括号中的表达式求值
     	Case 值1：  			 //如果表达式的值1匹配则执行小面的语句块。
     		语句块；
     	Break；
     	Case 值n：
     		语句块n；
         Break；
     	Default：			 //它匹配了任何和其他case都不匹配的情况，可以省略
     		语句块n+1；
     	}
     ```

     __注意：在switch语句中，只能进行一个且一类情况判断__ 

     __Switch-case需要注意的一些细节：__ 

     * 如果在case中的语句过多，就需要将多个语句做成一个函数之类
     * switch （变量），变量的类型，只允许两种类型 __整型和字符串__ 。
     * break是退出switch结构使用的, 如果需要同时匹配多个值时，可以使用多个case而不加break；

   * __判断的使用范围__ 

     * else  if       判断范围时使用
     * switch   case 
       * 把同一个变量与很多不同的值比较并根据它等于的那个值来执行不同的代码
       * 还可以匹配多个值时执行同一个语句块。

2. 循环结构：

    While语句      条件微循环语句，就是指遇到特定的条件才停止循环

    Do….while循环   是不固定的，一般用这两种

    For语句         计数循环语句，就是指按指定的次数执行循环。一般用这种

​    Goto语句

   1. 特殊的流程控制语句    __While语句  要避免死循环，要有退出的条件__ 

      ```php
      <html>
      <head><title>使用while循环嵌套输出表格</title></head>
      <body>
       	<table align="center" border="1" width=600>
      		<caption><h1>使用while循环嵌套输出表格</h1></caption>
       		<?php
      			 $out = 0;                               
       			while( $out < 10 ) {                       
      				 bgcolor = $out%2 == 0 ? "#FFFFFF" : "#DDDDDD";
      				 echo "<tr bgcolor=".$bgcolor.">";      
      				 $in = 0;                               
      				while( $in < 10 ) {                    
      					echo "<td>".($out*10+$in)."</td>"; 
      					$in++;                         
      				 }
      				echo "</tr>";                       
      				$out++;
      			 }
      		?>
      	</table>
      </body>
      </html>
      ```

   2. do…while语句        是先执行在判断

      ​	do{ 循环体 } while（）； //先执行循环体，在判断条件表达式，成立则执行下一个循环体

      ​	while（条件表达式）{  循环体 } //先判断，表达式为true时，再执行循环

   3. for语句 一般是用于计数的循环

      for（表达式一；表达式二；表达式三）{

      ​         echo ”循环体<br>”;

      }

      ​         第一部分，先执行 表达式一

      ​         第二部分，再执行 表达式二

      ​         第三部分， 再执行 循环体

      ​         第四部分，再执行  表达式三

      ​         第五部分，再执行 表达式二

      注意：表达式一，只被执行一次

      ​         一般情况下：

      ​         表达式一；初始化的条件，成立则执行循环体

      ​         表达式二；条件表达式，成立则执行循环体

      ​         表达式三；是一个自增条件

      ```php
      //九九乘法表
      for($i = 1;$i <= 9;$i++) {
          for($j = 1;$j <= $i;$j++) {
             echo "$j x $i =".($j*$i)."&nbsp;";
           }
       echo '<br>';
      }
      ```

   4. 流程控制：

      * break 

        在switch中使用它会使得程序流程离开switch本体中的语句，而在for、while或者do—while循环结果中时，将会使得程序离开该层循环。

      *   Continue

         若使用在for、while或do—while循环结构中，当程序执行至continue时，之后的语句将直接被略过，而直接执行下一次的循环动作

      *  exit（die）

           当前的脚本中只要执行到exit语句，不管它在哪个结构中都会直接退出当前脚本，也可以输出一条消息，并退出当前脚本。exit是一个函数，die（）函数就是exit（）的别名。

   5. goto流程控制语句

      标记：名字加冒号  meiz：

      反对者：大量的使用是个灾难，尤其是在后续的代码维护之中，

       Goto语句使得程序节后混乱，读起来很难懂。

      Goto可能跳过了某些对象的构造（破坏面向对象的原则）、变量的初始化、重要的计算等语句。

       优点

      代码跳转快，方便

       执行性能高

   ------

   #### 函数的应用 

1. 函数的介绍：函数(funtion)是一段完成指定任务的已命名代码块.

   * 函数分为：自定义函数与系统函数
   * 函数的优越性：
     * 控制程序设计的复杂性   提高软件的维护性
     * 提高软件的可靠性       提高软件的重用性
     * 提高软件的开发效率

2. 声明自定义函数

   * __概念:__ 在定义函数时，函数名后面括号中的参数列表，是用户在调用函数时用来将数据传递到函数内部的接口。而函数的返回值，则将函数执行后的结果返回给调用者。如果函数没用返回值，就只能算是一个执行过程，只依靠函数做一些事情还不够，有时更需要在程序脚本中使用函数执行后的结果。由于变量的作用域的差异，调用函数的脚本程序不能直接使用函数体里面的信息，但可以通过关键字 __return__ 向调用者传递数据。每当函数被调用时，控制权便被传递给函数。函数执行完毕后，控制权返回到调用该函数的位置。

   * 声明函数时，提供的参数叫形参（形式上的参数）。

   * 引用函数时，写的参数叫实参（实际的参数）。

   * 声明函数时，将需要用户改变的参数，将变量添加到（）中。例子

     ```php
     function table(rows,cols){
         echo '<table border="1" width="70%" align="center">';
         echo '<caption><h2>表格</h2></caption>';
           for($i=0;$i < rows;$i++){
               bg = ($i%2==0) ?"red" :"yellow";
               echo '<tr bgcolor="'.$bg.'">';//为啥要在点号连接的运用左边的结构。因为里面的单引号是给html解析时使用的
               for($j=0;$j < cols;$j++) {
                 echo '<td>'.($i*cols+$j).'</td>';
               }
               echo '</tr>';
           }
         echo'</table>';
     }
     ```

   * 函数的定义格式

     ```php
     函数的格式Function 函数名 （参数1，参数2）{
         函数体；     //任何有效的php代码都可作为函数体使用
         Return 返回值；  //可以从函数中返回一个值，也可以不写
     }
     ```

   * Return语句在函数体中使用有两个作用

     * Return语句可以向函数调用者返回函数体中任意确定的值
     * 将程序控制权返回到调用者的作用域，即退出函数，在函数体中如果执行了return语句，它后面的语句就不会被执行。

   * 函数定义不能与自己定义的重名，也不能与系统函数重名。不区分大小写。

     ```php
     Function_exists（）判断函数是否存在。
     If (function_exists("table")) {
       echo "存在";
     }else{
       echo "不存在";
     }
     ```

3. 局部变量：

   * 函数内部声明的变量，只能在函数内部调用，这就是---__局部变量__ 。__即每一次的调用就是一次独立的执行过程，执行完就释放__ 。

   * 函数的参数就是一个局部变量，声明成形参的，可以在调用时给值，传值。但不能在外面直接echo 函数内部的变量。

     ```php
        function demo($age) {
          $sex = 男;
          echo "我很帅，是($age)<br>"；
        }
     echo $sex;  //这是不会有结果的，而且是错误的,解释第一句话
     echo $age;  //这是不会有结果的，而且是错误的，解释第二句话
     ```

4. 全局变量：在函数外部声明的变量，可以在每个函数中使用。(顺序)

   * Php中规定，所有在函数内部声明的变量都是新声明的变量。即与外边同样变量名不起冲突。

   * 在函数内部如果需要使用函数外部的变量，需要使用__global__ 关键字，将外部变量引入。还与所在的位置有关。

   * 只要将全局变量声明在调用之前，调用函数的时候就能找到。常量是可以直接使用。解释了上面的那个（顺序）

     ```php
     $age = 30;
     $name = "高老师";
     function demo() {
       $name = '妹子';  //解释第一句，没有global，输出函数，结果就是妹子
       global $name,$age;  //解释第二句，现在输出，结果是高老师，若将其放到 $name = ‘妹子’;前，输出结果就是妹子。
       echo $age."---".$name;
     }
     echo demo();
     ```

   * 常量只要声明了是可以在函数中直接使用的。

5. 静态变量：内存在逻辑上分为四段 : 栈空间段、堆空间段、代码段、初始化静态段

   *  Php支持声明函数变量为静态的，一个静态变量在所有对该函数的调用之间共享，并且仅在脚本执行期间__函数第一次被调用时被初始化__ 。

   * 用关键字static字声明。

   * 在函数中声明的静态变量，只在第一次调用声明

   * 第二次以后，一看是静态变量，就先到静态区中，看一下有没有这个变量，如果有就使用，而不去再声明

   * 静态变量，在同一个函数中多次调用中，共享。（一般在函数内部使用）

     ```php
     function demo() {

       static  $a = 0;  	  
        $a++; 
       echo $a."<br>";
     }
     demo ();
     demo ();
     demo ();
     //当再次调用函数时，就没有执行上一条代码，即没有再次初始化，直接执行这条代码。解释了第二句话
     //若将ststic静态关键字去掉，输出结果就是三个1.
     //现在输出，结果是1,2,3。这就是第三句话的意义。
     ```

6. 常规参数的函数

   * 一个函数的三个要素

     * 函数的功能描述：
     * 函数的参数：只用会传参数才会调用函数。
     * 函数的返回值：

   * 常规参数的函数格式说明：

     ```php
     String example（string name，int age， double heinght）
       
     伪类型，number   代表integer   float
     Mixed  代表所有类型的。
     Callback   代表函数    
     ```

   *  引用参数的函数：

     * Sort 对数组排序的。

     * `bool **sort** ( array &$array [, int $sort_flags = SORT_REGULAR ] )` 

     * 如果在函数说明中，有&出现，说明这个参数是一个引用参数，你调用时传参数时，就必须传一个__变量__。例子如下：

       ```php
       $b = 20;
       Function demo(&$a) {
         $a = 100;   //当调用函数时，相当于将重新将变量b 赋值了。
       }
       echo $b.”<br>”;  //输出20
       Demo($b);  //调用函数
       echo $b.”<br>”;  //输出100
       ```

   *  默认参数：在声明参数同时，可以给参数的变量给一个初始值。

     *  `Demo(string $name, int $age,[string  $sex, $string  $email]);`
     *  函数说明里中用  中括号 括住的表示不传参数也有默认值

   * 可变个数参数的函数：当函数说明里出现……..时，可以传多个值。

     * __func _num_args()__;  返回参数总数。

     * __func_get_args()__;   这个数组可以接收多个参数。

     * __func _get_arg()__ ;  返回参数列表的某一项

       ```php
       function demo(){
         	var_dump(func_get_args());				  //获得不定个数的参数
           $sum = '';								 //初始化变量
           For($i=0; $i<func_num_args();$i++){  	 //返回一个包含函数参数列表的数组
             $sum +=func_get_arg($i); 			 	//返回参数列表的某一项。
           }
           return $sum;
       }
       echo demo(1,2,3,4,5,6,7,8,9);    
       ```

7. 变量函数

   * 定义: 如果将一个函数名称（字符串），给一个变量（字符串），然后在这个变量后面加上括号，就会调用这个变量值对应函数。例子：

     ```php
     function add($a,$b) {
       return $a + $b;
     }

     function chu($a,$b){
       if($b!=0){
         return $a/$b;
       }else{
         return false;
       }
     }
     $var = "chu"; 	//可以通过改变变量函数的值来实现不同的计算    
     echo $var(10,20);
     ```

8. 回调函数

   * 在函数的调用时，在参数中传的不是一个变量或一个值，而是一个函数，这就是回调函数。

   * 在函数的参数中，传一个另外函数的名称，这样可以在调用函数的内部用到这个参数所对应的函数，这就是回调函数。（另一种理解）

     ```php
     制作一个回调函数

       function demo(num, n) {
       // $n = "test";
       for($i=0; $i<num; $i++) {
         if(n($i))
           continue;
         echo $i."<br>";
       }
     }

     function test($i) {
       if($i == strrev($i))
         return true;
       else
         return false;
     }
     demo(500, "test");
     ```

9. 系统函数

10. 递归函数 在函数中调用自己就是递归函数。

  ```php
  function test($n) {
    echo $n.'<br>';
    if($n>0) {
      test($n-1);
    } else {
      echo '--------<br>';
    }
    echo $n.'<br>';
  }

  $a = 'test';
  $a(10); 
  ```

11. 加载自定义函数

    include();

    require(); 将一个文件在预处理期间被导入

    两个函数的区别：当处理失败时，include()产生一个警告而require()则导致一个致命错误。

    ​	include_once();

    ​	require_once();

    ​	这两个函数与上面两个函数区别：如果该文件中的代码已经被包括了，则不会再次包括，只会包括一次。

12. 闭包（*closures*）和匿名函数（Anonymous functions）在PHP 5.3.0中引入，这两个特性非常有用

    __闭包__ 是指在创建时封装周围状态的函数，即使闭包所在的环境的不存在了，闭包中封装的状态依然存在。

    __匿名函数__ 其实就是没有名称的函数，匿名函数可以赋值给变量，还能像其他任何PHP函数对象那样传递。不过匿名函数仍然是函数，因此可以调用，还可以传入参数，适合作为函数或方法的回调。

    > 注：理论上讲闭包和匿名函数是不同的概念，不过PHP将其视作相同的概念（匿名函数在PHP中也叫作闭包函数），所以下面提到闭包时指的也是匿名函数；反之亦然。

    ```php
    $var = function($a,$b,$c) {
      return $a+$b+$c;
    };     //一定要加分号

    //调用函数用
    var_dump($var(1,2,3)); 
    ```


13. 闭包函数 __详细了解需要查资料__

    将匿名函数在普通函数中当做参数传入，也可以被返回。这就实现了一个简单的闭包。

    ​

------

​                    

#### 数组

1. 数组的概述

   1. 把若干变量按有序的形式组织起来的一种形式，这些数据元素的集合称为数组。
   2. 数组按下标个数分类：一维数组，二维数组，多维数组。
   3. 数组是一个容器，使用的目的是可以批量操作。

2. 数组的声明 ( 直接声明 )

   * 一个数组中存的有多个内容，数组中的内容叫作“元素”。

   *  每个元素都是由  键(  Key )和值( value )  组成的。  key也叫下标。

   *  通过key  来使用值。

      *  用[]来操作下标，也可以使用 {}。建议使用[]来指定下标。

      * 在使用下标时，如果是关联数组，一定要使用引号，如果不使用引号也可以，但会产生警告，还会造成代码执行效率的问题。

        `$arr['one'] = 1；`

   *  下标有两种类型：一种是整数（索引数组），一种是字符串（关联数组）。

      ```php
      $arr[0] = 1；
      $arr[1] = 2；
      $arr[2] = 3；   //索引数组
      $arr['one'] = 1；
      $arr['two'] = 2；//关联数组
      print_r($arr)； //打印数组
      ```

   * 声明数组下标一样时，后声明的会将先声明的覆盖。

     ```php
     $arr[0] = 18；
     $arr[0] = 30；//后声明的将先声明的覆盖
     ```

   * 索引数组是自动增涨下标，默认是从0开始的，自动增涨的都是__出现过的最大值加1.__ 

   *  关联数组的字符串下标，不会影响索引下标排列规则。

   * 负数可以作下标。

3. 使用array（）函数声明数组（不是一个函数，可以用前面的判断。）

   1. 默认是索引的下标，从0开始。

   2. 使用 => 符号指定下标。

      ```php
      $arr = array('aaa','two'=>'bbb','ccc','ddd');
      print_r($arr);//打印数组内容
      ```

   3. unset（）函数允许删除数组中的某个键。但要注意数组将不会重新索引。若果需要删除后重新索引，可以用array_values()函数。

      ```php
      $arr = ['one','two','three','four'];
      unset($arr[2]);    //用unset可以将数组中的一个元素删除，但要注意数组将不会重新索引
      $arr[2] = null;     //如果换成这个，只是将这个键的值变成的空的了，键还在。
      print_r($arr);
      arr = array_values($arr);  //可以用这个函数将数组重新索引
      print_r($arr);
      ```

   4. 实例(剩下最后一个)

      ```php
      function xdw(m,n) {
        $arr = array(); //定义一个空数组
        $a = 'a';   //定义一个变量
        for($i=0; $i<m; $i++) {   //将变量与空数组建立联系
          arr[] = $a++;  
        }
        $i = 0;                   //定义一个计数变量
        
        while(count($arr)>1) {  //count函数用来获取数组的个数的
          if(i%n == 0) {    //第一次就把$arr[0] = a剔除了。
            unset(arr[$i]); //剔除除以4为0的
          } else{
          arr[] = arr[$i]; //从这以下两条代码，将没有剔除的元素重新放到了数组里，且参与以后的计数中。
            unset(arr[$i]);
          }
          print_r($arr);
          $i++;
        }
        return $arr;
      }
      print_r(xdw(30,4));
      ```


4. 自 5.4 起可以使用短数组定义语法，用 [] 替代 array()。

   ```php
   $array = array(
     "foo" => "bar",
     "bar" => "foo",
   );

   // 自 PHP 5.4 起
   $array = [
     "foo" => "bar",
     "bar" => "foo",
   ];
   ```

5. 二维数组的声明与应用。

   ```php
   $group = array(
     array("name"=>"zs","age"=>20,"sex"=>"男","email"=>"aaa@bbb.com"),
     array("name"=>"ls","age"=>21,"sex"=>"女","email"=>"bbb@bbb.com"),
     "three"=>array("name"=>"ww","age"=>22,"sex"=>"男", "email"=>"cccc@bbb.com")
   );
   ```

6. 数组的遍历

   ​    使用for语句循环遍历数组

   ​    使用foreach语句遍历数组

   ​    联合使用list（）、each（）和while循环遍历数组

   ​    使用数组的内部指针控制函数遍历数组

   * For语句循环遍历数组   一定要是下标连续的索引数组。

     * Count（数组）获取数组的长度，是数组的实际元素的个数

     * 效率很高，就是数组访问方式，只不过通过循环去取值

     * 不足的地方：关联数组for不能遍历，

     * 数组下标不连续的话，不能遍历出来

       ```php
       $arr = array('aa','bb','cc','dd','ee',);
       nums = count($arr);
       for($i=0;$i<nums;$i++) {  // 如果将上面那条代码去掉，直接变成i <count(arr); 这条代码的效率就不高，因为循环每次执行都将重新执行一次函数count
         echo $arr[$i].'<br>';
       }
       ```

       ​

   * Foreach语句循环遍历数组

     * Foreach（数组 as 自定义变量）{  }

     * 数组有多少个元素，foreach就循环多少次

     * Foreach会将数组中的元素，在每次循环中，依次将元素的值给自定义的变量，在每次循环中用到这个变量，即用到了当前的数字中的元素

       ```php
       $arr= array('name'=>'zs','age'=>'20','emall'=>'aaa@bbb.com');
       foreach ($arr as $value) {
       echo "{$value} <br>";
       }
       ```

       * Foreach语句循环遍历数组  可以得到数组的key和value。

     * Foreach（数组 as 自定义变量 =>自定义变量）{    }     

       ```php
       $group = [
         "name"=>"第三组",
         "price"=>888,
         ["name"=>"zs", "age"=>20, "sex"=>"男", "email"=>"aaa@bbb.com"],
         ["name"=>"ls", "age"=>21, "sex"=>"女", "email"=>"bbb@bbb.com"],
         ["name"=>"ls", "age"=>21, "sex"=>"女", "email"=>"bbb@bbb.com"],
         ["name"=>"ls", "age"=>21, "sex"=>"女", "email"=>"bbb@bbb.com"],
         ["name"=>"ls", "age"=>21, "sex"=>"女", "email"=>"bbb@bbb.com"],
       ];
       echo '<table border="1" width="800" align="center">';
       echo '<caption><h2>数组转为表格</h2></caption>';

       foreach($group as $key => $row) {
         echo '<tr>';
         if(is_array($row)){
           foreach($row as $col){
             echo '<td>'.$col.'</td>';}
         }else{
           echo '<td colspan="4">'.$key.':'.$row.'</td>';
         }
         echo '</tr>';
       }
       ```

   * 联合使用list（）、each（）和while（）循环遍历数组的前期的准备

     * List（）是一个函数，但这个函数和其他函数用法不同。

     *  等号左边使用list（）函数，等号右边只能是一个数组。

     *  数组中有几个元素，在list（）中就有几个参数，而且参数必须是变量（新声明的自定义变量），不能是值.

        ```php
        list($a,$b,$c) = array('妹子','峰哥','第三者');
        echo $a.'<br>';
        echo $b.'<br>';
        echo $c.'<br>';
        ```

     * 只能将索引数组（下标是连续），转为变量。是按下标为0开始找的。

     *  可以在list（）参数中通过空项选择性的接受数组中的元素。

        ```php
        list(a,,c) = array('妹子','峰哥','第三者');
          
        //List（）其他用法：
        $str = '峰哥_好帅';
        list(name,d) = explode('_',$str);
        echo $name.'<br>';
        echo $d.'<br>';
        ```

     * each() 只是一个 函数，参数就是一个数组作为参数，返回的值，也是一个数组。

       * 返回的值是一个数组，数组固定有4个元素，而且下标也是固定的。

         ```php
         Array
           (
           [1] => 妹子
           [value] => 妹子      0和key包含有数组单元的键名
           [0] => 0            1和value包含有数据即值
           [key] => 0
         )
         ```

       * each（）只处理当前的元素将当前的元素（默认当前是第一个元素，指针指向第一个）转为数组信息后，指针向下一个元素移动。

       * 如果指针已经在结束位置了，在使用each（）获取元素，返回false。

         ```php
         例子一

         $arr = array('妹子','峰哥','第三者');
         echo '<pre>';
         $one = each(arr);
         print_r($one);     
         echo '</pre>';

         例子二
         $arr = array('妹子','峰哥','第三者');
         one = each(arr);
         echo one['key'].'=>'.one['value'].'<br>';

         注意这里相当于访问了二维数组
         ```

   * 联合list（） each（）和while循环遍历数组

     ```php
     例子一

     $arr = array('妹子','峰哥','第三者');
     while(tmp = each(arr)) {
       //print_r($tmp);
       echo "{tmp['key']} => {tmp['value']} <br>";
       echo "{tmp[0]} => {tmp[1]} <br>";   
       
     }

     例子二
     $arr = array('妹子','峰哥','第三者');
     while(list(key,value) = each($arr)) {
       echo key.'=>'.value.'<br>';  //这两种写法都一样，体会内容
       echo "{key} => value  <br>";
     }
     ```

   * 使用数组的内容指针控制函数遍历数组

​                next(); 下一个

​                prev(); 上一个

​                end();  最后一个

​                reset();    重置

​                key();  获取当前的下标

​                current();  获取当前的值

7. 超全局数组（预定义变量）

   * 超全局数组（变量），在php的脚本中，已经声明完的变量，你可以直接就去使用即可，变量的名字已经规定好的。

   ```php
   $_FILES   HTTP文件上传变量
   $_COOKIE   HTTPcookies
   $_SESSION    session变量
   $_GET  HTTP GET变量       
   $_POST HHTP POST变量     
   $_SERVER 这种超全局变量保存关于报头、路径和脚本位置的信息。
   $GLOBALS — 引用全局作用域中可用的全部变量
   ```

   * 超   全局   数组

     * 数组(关联数组), 就和你自己声明的数组是一样的操作方式

     * 全局   相对于函数的局部变量来说的

     * 每个预定义的数组都有自独特的能力

       ```php
       $_GET=array("妹子", "峰哥");
       function demo() {
         //   global $arr;
         echo _GET[0]."和"._GET[1];  //解释全局的意思
         $_GET['username']="admin";

       }
       demo();
       print_r($_GET);
       ```


   * 数组的遍历

     ```php
     echo count($_SERVER).'<br>'; 获取数组的元素个数
     foreach($_SERVER as key => $value){
         echo key.'=>'.value.'<br>';
      }
     ```


------



### 一些常用的函数集合 

#### 	isset与empty的区别

1. PHP的isset()函数 一般用来检测变量是否设置 
   * 格式：bool isset ( mixed var [, mixed var [, ...]] ) 
   * 功能：检测变量是否设置 
   * 返回值： 
     * 若变量不存在则返回 FALSE 
     * 若变量存在且其值为NULL，也返回 FALSE 
     * 若变量存在且值不为NULL，则返回 TURE 
     * 同时检查多个变量时，每个单项都符合上一条要求时才返回 TRUE，否则结果为 FALSE 
     * 使用 unset() 释放变量之后，它将不再是 isset()。 


2. PHP函数isset()只能用于变量，传递任何其它参数都将造成解析错误。

   * 检测常量是否已设置可使用 defined() 函数。 
   * PHP的empty()函数 判断值为否为空 
   * 格式：bool empty ( mixed var ) 
   * 功能：检查一个变量是否为空 
   * 返回值： 
     * 若变量不存在则返回 TRUE 
     * 若变量存在且其值为""、0、"0"、NULL、、FALSE、array()、var $var; 以及没有任何属性的对象，则返回 TURE 
     * 若变量存在且值不为""、0、"0"、NULL、、FALSE、array()、var $var; 以及没有任何属性的对象，则返回 FALSE 

3. iconv — 字符串按要求的字符编码来转换

   `string iconv ( string $in_charset , string $out_charset , string $str )`