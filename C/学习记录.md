# 学习记录

1. 数据类型

   * 数据的存储
   * 数据的计算

2. C语言常见的数据类型

   | 数据类型     | 名称      | 大小 |      |
   | ------------ | --------- | ---- | ---- |
   | 短整数       | short int | 2    |      |
   | 整数         | int       | 4    |      |
   | 长整数       | long int  | 4    |      |
   | 字元         | char      | 1    |      |
   | 单精度浮点数 | float     | 4    |      |
   | 双精度浮点数 | double    | 8    |      |
   | 无           | void      | ？   |      |

3. 使用 sizeof 看所占内存空间的大小。

   可以计算出使用的编译器上某个值和类型所占的内存的大小。

   ```c
   sizeof(long int);
   printf("long int:%d",sizeof(int));
   ```

4. 定义变量

   ```c
   int num;     //先声明
   int num = 0; //声明并初始化
   ```

## 整数

* 一个位（bit）可以存储一个0或者1。
* 一个字节（位元组）通常可以存储8个位。
* 一个字节可以存储256中不同的组合
  1. 从 0 开始 255 （无符号）
  2. 从-128 到 127 （有符号）
* 整数的溢出
  1. 溢出可能会造成未定义行为。
* 大数问题
  1. 使用 long int 取代 int
  2. __long long int  在C99后才支持。__

## 浮点数

| 数据类型 | 名称        | 大小（位） | 有效数字（位） | 指数大小（位） |
| -------- | ----------- | ---------- | -------------- | -------------- |
| 单精度   | float       | 4          | 23             | 8              |
| 双精度   | double      | 8          | 52             | 11             |
|          | long double | 8          | ?*             | ?*             |

* 浮点数依然会产生溢出

## printf 或者  scanf 用在不同的数据类型

```c
int sum = 10;
printf("sum is %d",sum);

int a = 123456789;
unsigned int b = 3000000000;
printf("%d\n",a);
printf("%u\n",b);  //表示输出一个无符号位的数。
```

| 格式符 | 输出格式           |      |
| ------ | ------------------ | ---- |
| f      | 十进制浮点数       |      |
| e      | 科学计数表示法小写 |      |
| E      | 科学计数表示法大写 |      |

```c
//二进位的。
int main()
{
	float a = 123.45;
	double b = 123.45;
	printf("%f\n",a); //123.449997
	printf("%f\n",b); //123.450000
	return 0;
}
```

### scanf(要读入的数格式，变量地址);

```c
int a;
scanf("%d",&a) //读入一个十进位的整数。
```

| 格式符 | 输入格式                 |      |
| ------ | ------------------------ | ---- |
| i      | 任何格式的整数           |      |
| d      | 十进制的有符号整数       |      |
| u      | 表示十进制无符号为的整数 |      |
| f      | 十进制浮点数             |      |

## 类型转换

```c
int main()
{
    double average = 10 / 3; // 3.00000
    printf("%f",average);
    return 0;
}
```

1. 当两个不一样整数或者浮点类型的值做算术运算时，如果可以算，会隐形转型成范围较大的类型并算出该类型的值。

2. 强制转换类型

   ```c
   double average = (num1 + num2 + num3) / (double)3;
   ```

## 字元

1. char 类型常见的是使用 ASCII 编码。

2. char 类型占用1个字节。

3. char 类型是一种整数类型。

4. printf  与 scanf 的字元格式符。

   ```c
   char ch = 'A';
   printf("%c\n",ch);
   ```

5. char 类型的算术运算。

   ```c
   char ch = 'A';
   char chf = 'A' + 1;
   printf("%c\n",chf);
   ```

6. 字元大小写转换

   ```c
   int main()
   {
   	char input,output;
   	scanf("%c",&input);
   	output = input + 32;
   	printf("%c\n",output);
   	return 0;
   }
   ```

## 赋值运算

```c
int main()
{
	int a,c;
	double b,d;
	a = b = c = d = 3 + 7/2.;
	printf("%f\n",d);  // 6.5
	printf("%f\n",b);  // 6.00000
	printf("%d\n",a);  // 6
	printf("%d\n",c);  // 6
	return 0;
}
```

## switch

```c
#include <stdio.h>
int main()
{
	int num1,num2;
	char op;
	float anawer;
	scanf("%d%c%d",&num1,&op,&num2);
	switch(op){
		case '+': anawer = num1 + num2; break;
		case '-': anawer = num1 - num2; break;
		case '*': anawer = num1 * num2; break;
		case '/': anawer = (float)num1 / num2; break;
	}
	printf("ans %.2f\n",anawer);
	return 0;
}
```

## do -- while

```C
int main()
{
	int total;
	int id;
	do{
		scanf("%d",&id);
		switch(id){
			case 1 : total += 90; break;
			case 2 : total += 75; break;
			case 3 : total += 83; break;
			case 4 : total += 89; break;
			case 5 : total += 71; break;
		}
	} while(id != 0);
	printf("Total:%d\n",total);
	return 0;
}
```

## 函数

```c
int f(int x){   //定义
	return x + 3;
}

int main(){
	printf("%d\n",f(4));
	return 0;
}

int f(int);  //先声明
```

1. 在程序执行的顺序中，使用函数前要先声明或者定义函数。
2. 函数
   * 数学运算<math.h>
   * 输出和输入<stdio.h>

### 函数使用

```C
#include<stdio.h>
int max2(int, int);
int main()
{
	int a,b,max;
	printf("please enter the first integer:");
	scanf("%d",&a);
	printf("please enter the first integer:");
	scanf("%d",&b);
	printf("The maxinum is %d.\n", max2(a,b));
}

int max2(int a,int b)
{
	int max;
	if (a >= b){
		max = a;
	} else {
		max = b;
	}
	return max;
}
# 打印三角形
#include<stdio.h>
void print_stars(int i);
int main()
{
	int N,i;
	printf("N = ");
	scanf("%d",&N);
	for(i = 1; i <= N; i++){
		print_stars(i);
		printf("\n");
	}
	return 0;
}
void print_stars(int i){
	int j;
	for(j = 1; j <= i; j++){
		printf("*");
	}
	return ;
}
# 骰子
#include <stdio.h>
#include <stdlib.h>
#include <time.h>
int main()
{
	srand(time(0));
	int i;
	for (i = 1; i <= 5; i++)
	{
		int dice = rand() % 6 + 1;
		printf("%d\n",dice);
	}
	return 0;
}
```

## 变量的可视范围

1. __局部变量__ ：属于某个{}，在{}外部不能使用此变量，在{}内部是可以使用。执行到普通局部变量定义语句，才会分配空间，离开{}，自动释放。普通局部变量不初始化，默认值为随机数。

2. 在编译阶段分配空间，只有整个程序结束才释放。普通全局变量只要定义了，任何地方都能使用，使用前需要声明所有的.c文件，只能定义一次普通全局变量，但是可以声明多次（外部链接）。

3. 全局变量

   * 声明在函数定义外
   * 因为容易造成名称污染，避免使用全局变量

   ```c
   #include<stdio.h>
   int i = 1;
   int main()
   {
   	printf("%d\n", i);
   	return 0;
   }
   
   ```

4. 局部变量

   * 声明在函数定义内

   * 大括号表示一个范围

     ```c
     int i = 1;
     int main()
     {
     	printf("%d\n", i);    	1
     	int i = 2;
     	printf("%d",i);     	2 
     	{
     		printf("%d",i); 	2
     		int i = 3;
     		printf("%d", i); 	3
     	}
     	printf("%d",i);      	2
     	return 0;
     }
     
     int main(){
     	int i = 3;
     	printf("%d\n", i);		3
     	if(i == 3){
     		i = i + 1;
     		int i = 6;
     		printf("%d\n", i);	6
     		i = i + 1;
     		printf("%d\n", i);	7
     	}
     	printf("%d\n", i);		4
     	if(i == 3){
     		printf("%d\n", i);
     	}
     	return 0;
     }
     ```

## 函数递归

```c
#include <stdio.h>
int f(int);
int main()
{
	printf("%d\n",f(0));
	return 0;
}

int f(int i){
	if(i == 2){
		return i;
	}
	return f(i+1);
}
```

## 数组

1. C 语言支持**数组**数据结构，它可以存储一个固定大小的相同类型元素的顺序集合。数组是用来存储一系列数据，但它往往被认为是一系列相同类型的变量 

   ```c
   #include <stdio.h>
   int main(){
   	int v[3] = {3,5,0};
   	int max = v[0];
   	if(v[1] > max){
   		max = v[1];
   	}
   	if(v[2] > max){
   		max = v[2];
   	}
   
   	printf("Max %d\n",max);
   	return 0;
   }
   ```

2. 数组的初始化

   ```c
   int counter[6] = {0,0,0,0,0,0};
   int counter[6] = {0};
   int counter[] = {0,0,0,0,0,0};
   int main()
   {
   	int v[4] = {3,5,0,7};
   	int i;
   	int max = v[0];
   	for (i = 1; i <=3; i++){
   		if(v[i] > max){
   			max = v[i];
   		}
   	}
   	printf("Max %d",max);
   }
   ```

3. 1~6的骰子练习

   ```c
   #include <stdio.h>
   #include <stdlib.h>
   #include <time.h>
   int main()
   {
   	srand(time(0));
   	int counter[6] = {0};
   	int i,j;
   	for (i = 1; i <= 6000; ++i) {
   		int dice = rand() % 6 + 1;
   		counter[dice-1]++;
   	}
   	for(j = 1; j <= 6; j++){
   		printf("%d : %d\n", j ,counter[j-1]);
   	}
   	return 0;
   }
   ```

4. 使用交换法生成随机数

   ```c
   #include <stdio.h>
   #include <stdlib.h>
   #include <time.h>
   
   int main()
   {
   	srand(time(0));
   	int i,n[10];
   	for(i=1;i<=10;i++){
   		n[i-1] = i;
   	}
   	for(i=1;i<=10;i++){
   		int j = rand() % (11-i) + i;
   		int t = n[i-1];
   		n[i-1] = n[j-1];
   		n[j-1] = t;
   		printf("%d",n[i-1]);
   	}
   	printf("\n");
   	return 0;
   }
   ```

5. 数组的排序

   ```c
   #include <stdio.h>
   int main()
   {
   	int v[5],i,j;
   	for(i=0;i<5;i++){
   		scanf("%d",&v[i]);
   	}
   	for(i=0;i<4;i++){
   		for(j=0;j<4-i;j++){
   			if(v[j] > v[j+1]){
   				int t = v[j+1];
   				v[j+1] = v[j];
   				v[j] = t;
   			}
   		}
   	}
   	for(i=0;i<5;i++){
   		printf("%d",v[i]);
   	}
   	return 0;
   }
   ```

6. 二维数组

   ```c
   int v[2][3] = {{1,2,3},{4,5,6}};
   ```

7. 数组的复制（不支持直接等号复制）

   ```c
   #include<stdio.h>
   void increase(int[3]);
   int main()
   {
   	int i,n[3] = {1,2,3};
   	increase(n);
   	for(i=0;i<3;i++){
   		printf("n[%d] = %d \n",i,n[i]);
   	}
   	return 0;
   }
   //这里是传的引用。
   void increase(int n[3]){
   	int i;
   	for (i=0; i < 3; i++)
   	{
   		n[i]++;
   	}
   }
   ```


## 查看数组的长度

### sizeof，不能在函数传递中使用这种方法

```c
int main()
{
	int v[3] = {1,2,3};
	printf("size of int:%zu\n",sizeof(v)/sizeof(v[0]));
	return 0;
}
```

### 用特定保留值表示数组长度

```c
#include<stdio.h>
int length(int[]);
int main()
{
	int v[4] = {1,2,3,-1};
	printf("%d\n",length(v));
	return 0;
}
int length(int v[])
{
	int i = 0;
	while(v[i] != -1){
		i++;
	}
	return i;
}
```

## 字符串

1. <string.h>内提供各种处理字元阵列的函式来实现对字串的操作行为。

2. 字串是以 `'\0'` 表示结尾的字元数组的结尾。

   ```c
   # include <stdio.h>
   int str_len(char str[]){
   	int i = 0;
   	while(str[i] != '\0'){
   		i++;
   	}
   	return i;
   }
   int main()
   {
       //默认会在字符串末尾加 \0；
   	char str[] = "Hello world";
   	printf("length: %zu\n",sizeof(str));
   	printf("length: %zu\n",str_len(str));
   	return 0;
   }
   ```

3. 声明的字符串长度刚刚是字符串的长度，没有空间保存 `\0` 会是一个无效的语法

   ```c
   int main(){
       //没有空间保存你 \0；
       char str[11] = hello world;
       return 0;
   }
   ```

## 从键盘读取字符串

```c
# include <stdio.h>
void str_read(char str[]);
int main()
{
	char str[15];
	str_read(str);
	printf("%s\n",str);
	return 0;
}
void str_read(char str[]){
	int i = 0;
	while(1){
		scanf("%c",&str[i]);
		if(str[i] == '\n'){
			break;
		}
		i++;
	}
	str[i] = '\0';
}
```

### 读取字符串缓存区溢出

