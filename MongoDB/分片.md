# 分片

## 分片组件

 ### shards

1. 分片包含分片群集的分片数据子集。集群的分片一起保存集群的整个数据集。
2. 从MongoDB 3.6开始，必须将分片部署为副本集以提供冗余和高可用性。用户，客户端或应用程序应仅直接连接到分片以执行本地管理和维护操作。
3. 在单个分片上执行查询仅返回数据的子集。连接到mongos以执行集群级操作，包括读取或写入操作。

## 配置服务器

1. 从MongoDB 3.2开始，分片群集的配置服务器可以部署为副本集。在3.4版本中，只能使用副本集。

## mongos

1. **Mongos** 实例将查询和写入操作路由到分片集群中的分片。mongos 从应用程序的角度提供分片集群的唯一接口。应用程序永远不会与分片直接连接或通信。