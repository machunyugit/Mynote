## 原子性和事务

### 原子性

在 MongoDB 中，对于单个`document` 操作是原子的，即使是嵌套文档。

### 多文档事务

1. 当单个写入操作使用`db.collection.updateMany()` 修改多个文档时，每个文档的修改都是原子的，但整个操作不是原子的。
2. 对于需要多个文档进行读写原子操作
   * `4.0 version` 支持副本集上的多文档事务。
   * `4.2 version` 引入了分布式事务，从而增加了对分片群集上多文档事务的支持，并结合了对副本集上多文档事务的现有支持。

## 读隔离，一致性

### 读隔离保证



